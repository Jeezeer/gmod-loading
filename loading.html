<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chargement - Fallout New Vegas RP</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: linear-gradient(to bottom, #1a1410 0%, #2d1f15 50%, #1a1410 100%);
            color: #d4a574;
            overflow: hidden;
            height: 100vh;
            position: relative;
        }
        
        /* Effet de scanlines */
        body::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                0deg,
                rgba(0, 0, 0, 0.15),
                rgba(0, 0, 0, 0.15) 1px,
                transparent 1px,
                transparent 2px
            );
            pointer-events: none;
            z-index: 999;
        }
        
        /* Effet de vignette */
        body::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            box-shadow: inset 0 0 200px rgba(0, 0, 0, 0.8);
            pointer-events: none;
            z-index: 998;
        }
        
        .container {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            padding: 40px;
            position: relative;
            z-index: 1;
        }
        
        /* Logo/Titre */
        .title {
            font-size: 72px;
            font-weight: bold;
            color: #ffc266;
            text-shadow: 
                0 0 10px #ff9933,
                0 0 20px #ff6600,
                2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 20px;
            text-align: center;
            letter-spacing: 4px;
            animation: flicker 3s infinite alternate;
        }
        
        .subtitle {
            font-size: 28px;
            color: #b8956a;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
            margin-bottom: 60px;
            text-align: center;
            letter-spacing: 2px;
        }
        
        /* Zone principale */
        .loading-box {
            background: rgba(0, 0, 0, 0.7);
            border: 3px solid #8b6f47;
            padding: 40px 60px;
            max-width: 900px;
            width: 90%;
            box-shadow: 
                0 0 30px rgba(139, 111, 71, 0.5),
                inset 0 0 20px rgba(0, 0, 0, 0.5);
        }
        
        /* Barre de progression */
        .progress-container {
            margin-bottom: 30px;
        }
        
        .progress-label {
            font-size: 18px;
            color: #d4a574;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .progress-bar-bg {
            background: #1a1410;
            border: 2px solid #6b5635;
            height: 40px;
            position: relative;
            overflow: hidden;
            box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.8);
        }
        
        .progress-bar-fill {
            background: linear-gradient(90deg, #4a7c59 0%, #5fa777 50%, #4a7c59 100%);
            height: 100%;
            width: 0%;
            transition: width 0.3s ease;
            position: relative;
            box-shadow: 0 0 15px #5fa777;
        }
        
        .progress-bar-fill::after {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: repeating-linear-gradient(
                90deg,
                transparent,
                transparent 10px,
                rgba(0, 0, 0, 0.3) 10px,
                rgba(0, 0, 0, 0.3) 20px
            );
        }
        
        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 18px;
            font-weight: bold;
            color: #fff;
            text-shadow: 1px 1px 3px #000;
            z-index: 2;
        }
        
        /* Informations de téléchargement */
        .download-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            font-size: 16px;
            color: #b8956a;
        }
        
        .download-file {
            color: #ffc266;
        }
        
        /* Conseils/Citations */
        .tips-box {
            background: rgba(20, 15, 10, 0.8);
            border: 2px solid #6b5635;
            padding: 25px;
            margin-top: 20px;
            min-height: 120px;
        }
        
        .tips-title {
            font-size: 20px;
            color: #ffc266;
            margin-bottom: 15px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .tips-content {
            font-size: 16px;
            line-height: 1.6;
            color: #d4a574;
            font-style: italic;
        }
        
        /* Logo Vault-Tec (optionnel) */
        .vault-logo {
            position: absolute;
            top: 30px;
            right: 30px;
            font-size: 120px;
            color: rgba(255, 194, 102, 0.1);
            font-weight: bold;
            z-index: 0;
        }
        
        /* Animation de clignotement */
        @keyframes flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.95; }
            75% { opacity: 0.98; }
        }
        
        /* Animation du curseur */
        .cursor {
            animation: blink 1s infinite;
        }
        
        @keyframes blink {
            0%, 49% { opacity: 1; }
            50%, 100% { opacity: 0; }
        }
    </style>
</head>
<body>
    <div class="vault-logo">V</div>
    
    <div class="container">
        <div class="title">FALLOUT NEW VEGAS</div>
        <div class="subtitle">ROLEPLAY SERVER</div>
        
        <div class="loading-box">
            <!-- Barre de progression principale -->
            <div class="progress-container">
                <div class="progress-label">Chargement en cours...</div>
                <div class="progress-bar-bg">
                    <div class="progress-bar-fill" id="progressBar"></div>
                    <div class="progress-text" id="progressText">0%</div>
                </div>
            </div>
            
            <!-- Informations de téléchargement -->
            <div class="download-info">
                <div>
                    <span>Fichier: </span>
                    <span class="download-file" id="fileName">Initialisation...</span>
                </div>
                <div id="fileProgress">0 / 0</div>
            </div>
            
            <!-- Conseils et citations -->
            <div class="tips-box">
                <div class="tips-title">⚠ CONSEIL DU MOJAVE</div>
                <div class="tips-content" id="tipContent">
                    Chargement des données...<span class="cursor">_</span>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        // Liste de conseils et citations Fallout New Vegas
        const tips = [
            "N'oubliez pas de boire régulièrement dans le désert du Mojave. La déshydratation peut être fatale.",
            "Les capsules sont la monnaie du Wasteland. Économisez-les pour les moments difficiles.",
            "Le Strip de New Vegas est contrôlé par Mr. House. Respectez les règles ou préparez-vous aux conséquences.",
            "La Légion de Caesar approche de l'est. Soyez vigilant sur les routes.",
            "La RCN (République de Nouvelle-Californie) protège les citoyens... moyennant des taxes.",
            "Les Rad-Scorpions sont plus dangereux qu'ils n'en ont l'air. Gardez vos distances.",
            "Goodsprings est une communauté paisible. Les habitants apprécient l'aide des voyageurs.",
            "Les caravanes offrent souvent du travail aux mercenaires. C'est un bon moyen de gagner des capsules.",
            "Patrolling the Mojave almost makes you wish for a nuclear winter.",
            "Truth is... the game was rigged from the start.",
            "War. War never changes.",
            "Les stimpacks peuvent vous sauver la vie. Gardez-en toujours sur vous.",
            "Attention aux embuscades des Fiends près de New Vegas. Ils sont imprévisibles et violents.",
            "Le Hoover Dam est un enjeu stratégique majeur. Toutes les factions le convoitent.",
            "Les Powder Gangers contrôlent certaines routes. Voyagez en groupe si possible.",
            "Big Iron on his hip...",
            "Les armes à énergie nécessitent des cellules d'énergie. Gérez vos munitions avec sagesse.",
            "Rejoindre une faction peut vous offrir protection et opportunités, mais aussi des ennemis.",
            "Les casinos du Strip peuvent vous enrichir... ou vous ruiner complètement.",
            "Doc Mitchell a sauvé votre vie à Goodsprings. N'oubliez jamais d'où vous venez."
        ];
        
        let currentTipIndex = 0;
        
        // Fonction pour changer le conseil
        function changeTip() {
            const tipElement = document.getElementById('tipContent');
            tipElement.style.opacity = '0';
            
            setTimeout(() => {
                currentTipIndex = Math.floor(Math.random() * tips.length);
                tipElement.innerHTML = tips[currentTipIndex] + '<span class="cursor">_</span>';
                tipElement.style.opacity = '1';
            }, 500);
        }
        
        // Changer de conseil toutes les 8 secondes
        tipElement.style.transition = 'opacity 0.5s';
        changeTip();
        setInterval(changeTip, 8000);
        
        // ============================================
        // FONCTIONS POUR GARRY'S MOD
        // ============================================
        
        function SetStatusChanged(status) {
            document.getElementById('progressText').textContent = status;
        }
        
        function SetFilesTotal(total) {
            // Total de fichiers à télécharger
        }
        
        function SetFilesNeeded(needed) {
            const fileProgress = document.getElementById('fileProgress');
            const total = parseInt(fileProgress.textContent.split(' / ')[1]) || needed;
            fileProgress.textContent = (total - needed) + ' / ' + total;
        }
        
        function DownloadingFile(fileName) {
            document.getElementById('fileName').textContent = fileName;
        }
        
        function SetStatusChanged(status) {
            // Mise à jour du statut général
            const label = document.querySelector('.progress-label');
            label.textContent = status;
        }
        
        // Fonction principale de mise à jour de la progression
        function GameDetails(servername, serverurl, mapname, maxplayers, steamid, gamemode) {
            // Optionnel: afficher des infos sur le serveur
        }
        
        // Mettre à jour la barre de progression
        let progress = 0;
        const progressBar = document.getElementById('progressBar');
        const progressText = document.getElementById('progressText');
        
        function updateProgress() {
            if (progress < 100) {
                progress += Math.random() * 2;
                if (progress > 100) progress = 100;
                
                progressBar.style.width = progress + '%';
                progressText.textContent = Math.floor(progress) + '%';
            }
        }
        
        // Simulation de progression (remplacé automatiquement par GMod)
        setInterval(updateProgress, 100);
    </script>
</body>
</html>
